{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"fio-stac","text":"<p> Create STAC Items from vector datasets. </p> <p> </p> <p>Documentation: developmentseed.github.io/fio-stac/</p> <p>Source Code: developmentseed/fio-stac</p> <p><code>fio-stac</code> is a simple fiona plugin for creating valid STAC items from a vector dataset. The library is built on top of pystac to make sure we follow the STAC specification.</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>$ pip install pip -U\n\n# From Pypi\n$ pip install fio-stac\n\n# Or from source\n$ pip install git+http://github.com/developmentseed/fio-stac\n</code></pre>"},{"location":"#example","title":"Example","text":"<pre><code>// fio stac zip+https://naciscdn.org/naturalearth/10m/cultural/ne_10m_roads_north_america.zip | jq\n{\n  \"type\": \"Feature\",\n  \"stac_version\": \"1.0.0\",\n  \"id\": \"ne_10m_roads_north_america\",\n  \"properties\": {\n    \"proj:epsg\": 4326,\n    \"proj:geometry\": {\n      \"type\": \"Polygon\",\n      \"coordinates\": [\n        [\n          [\n            -176.7640084731439,\n            14.590750676565\n          ],\n          [\n            -52.64725244187383,\n            14.590750676565\n          ],\n          [\n            -52.64725244187383,\n            70.2966838677457\n          ],\n          [\n            -176.7640084731439,\n            70.2966838677457\n          ],\n          [\n            -176.7640084731439,\n            14.590750676565\n          ]\n        ]\n      ]\n    },\n    \"proj:bbox\": [\n      -176.7640084731439,\n      14.590750676565,\n      -52.64725244187383,\n      70.2966838677457\n    ],\n    \"proj:projjson\": {\n      \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n      \"type\": \"GeographicCRS\",\n      \"name\": \"WGS 84\",\n      \"datum\": {\n        \"type\": \"GeodeticReferenceFrame\",\n        \"name\": \"World Geodetic System 1984\",\n        \"ellipsoid\": {\n          \"name\": \"WGS 84\",\n          \"semi_major_axis\": 6378137,\n          \"inverse_flattening\": 298.257223563\n        }\n      },\n      \"coordinate_system\": {\n        \"subtype\": \"ellipsoidal\",\n        \"axis\": [\n          {\n            \"name\": \"Geodetic latitude\",\n            \"abbreviation\": \"Lat\",\n            \"direction\": \"north\",\n            \"unit\": \"degree\"\n          },\n          {\n            \"name\": \"Geodetic longitude\",\n            \"abbreviation\": \"Lon\",\n            \"direction\": \"east\",\n            \"unit\": \"degree\"\n          }\n        ]\n      },\n      \"id\": {\n        \"authority\": \"EPSG\",\n        \"code\": 4326\n      }\n    },\n    \"proj:wkt2\": \"GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AXIS[\\\"Latitude\\\",NORTH],AXIS[\\\"Longitude\\\",EAST],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]]\",\n    \"vector:layers\": {\n      \"ne_10m_roads_north_america\": {\n        \"properties\": {\n          \"prefix\": \"str:5\",\n          \"number\": \"str:5\",\n          \"class\": \"str:10\",\n          \"type\": \"str:12\",\n          \"divided\": \"str:10\",\n          \"country\": \"str:25\",\n          \"state\": \"str:25\",\n          \"note\": \"str:100\",\n          \"scalerank\": \"int:4\",\n          \"uident\": \"int:9\",\n          \"length\": \"float:13.11\",\n          \"rank\": \"int:4\",\n          \"continent\": \"str:50\"\n        },\n        \"geometry\": \"LineString\"\n      }\n    },\n    \"datetime\": \"2023-12-11T15:21:15.054810Z\"\n  },\n  \"geometry\": {\n    \"coordinates\": [\n      [\n        [\n          -176.7640084731439,\n          14.590750676565\n        ],\n        [\n          -52.64725244187383,\n          14.590750676565\n        ],\n        [\n          -52.64725244187383,\n          70.2966838677457\n        ],\n        [\n          -176.7640084731439,\n          70.2966838677457\n        ],\n        [\n          -176.7640084731439,\n          14.590750676565\n        ]\n      ]\n    ],\n    \"type\": \"Polygon\"\n  },\n  \"links\": [],\n  \"assets\": {\n    \"ne_10m_roads_north_america\": {\n      \"href\": \"zip+https://naciscdn.org/naturalearth/10m/cultural/ne_10m_roads_north_america.zip\",\n      \"roles\": []\n    }\n  },\n  \"bbox\": [\n    -176.7640084731439,\n    14.590750676565,\n    -52.64725244187383,\n    70.2966838677457\n  ],\n  \"stac_extensions\": [\n    \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\"\n  ]\n}\n</code></pre> <p>See developmentseed.org/fio-stac/intro/ for more.</p>"},{"location":"#contribution-development","title":"Contribution &amp; Development","text":"<p>See CONTRIBUTING.md</p>"},{"location":"#authors","title":"Authors","text":"<p>See contributors</p>"},{"location":"#changes","title":"Changes","text":"<p>See CHANGES.md.</p>"},{"location":"#license","title":"License","text":"<p>See LICENSE</p>"},{"location":"contributing/","title":"Contributing","text":"<p>Issues and pull requests are more than welcome.</p> <p>dev install</p> <pre><code>git clone https://github.com/developmentseed/fio-stac.git\ncd fio-stac\npython -m pip install -e .[\"test\",\"dev\",\"numpy\"]\n</code></pre> <p>You can then run the tests with the following command:</p> <pre><code>python -m pytest --cov fio_stac --cov-report term-missing\n</code></pre> <p>pre-commit</p> <p>This repo is set to use <code>pre-commit</code> to run isort, flake8, pydocstring, black (\"uncompromising Python code formatter\") and mypy when committing new code.</p> <pre><code>pre-commit install\n</code></pre> <p>Docs</p> <pre><code>git clone https://github.com/developmentseed/fio-stac.git\ncd fio-stac\npython -m pip install -e .[\"doc\"]\n</code></pre> <p>Create API docs</p> <pre><code>pdocs as_markdown --output_dir docs/docs/api/ --exclude_source --overwrite fio_stac.stac\n</code></pre> <p>Hot-reloading docs:</p> <pre><code>mkdocs serve\n</code></pre> <p>To manually deploy docs (note you should never need to do this because Github Actions deploys automatically for new commits.):</p> <pre><code>mkdocs gh-deploy -f docs/mkdocs.yml\n</code></pre>"},{"location":"intro/","title":"User Guide","text":"<p><code>fio-stac</code> can be used either from the command line as a rasterio plugin (<code>fio stac</code>) or from your own script.</p> <p>For more information about the <code>Item</code> specification, please see github.com/radiantearth/stac-spec/blob/master/item-spec/item-spec.md</p>"},{"location":"intro/#cli","title":"CLI","text":"<pre><code>$ fio stac --help\nUsage: fio stac [OPTIONS] INPUT\n\n  Fiona STAC plugin: Create a STAC Item for Vector dataset.\n\nOptions:\n  -d, --datetime TEXT             The date and time of the assets, in UTC (e.g\n                                  2020-01-01, 2020-01-01T01:01:01).\n  -e, --extension TEXT            STAC extension URL the Item implements.\n  -c, --collection TEXT           The Collection ID that this item belongs to.\n  --collection-url TEXT           Link to the STAC Collection.\n  -p, --property NAME=VALUE       Additional property to add.\n  --id TEXT                       Item id.\n  -n, --asset-name TEXT           Asset name.\n  --asset-href TEXT               Overwrite asset href.\n  --asset-mediatype [COG|FLATGEOBUF|GEOJSON|GEOPACKAGE|GEOTIFF|HDF|HDF5|HTML|JPEG|JPEG2000|JSON|PNG|TEXT|TIFF|KML|XML|PDF|auto]\n                                  Asset media-type.\n  --with-proj / --without-proj    Add the 'projection' extension and\n                                  properties.  [default: with-proj]\n  --densify-geom INTEGER          Densifies the number of points on each edges\n                                  of the polygon geometry to account for non-\n                                  linear transformation.\n  --geom-precision INTEGER        Round geometry coordinates to this number of\n                                  decimal. By default, coordinates will not be\n                                  rounded\n  -o, --output PATH               Output file name\n  --help                          Show this message and exit.\n\u279c  fio-stac git:(main) \u2717\n</code></pre>"},{"location":"intro/#how-to","title":"How To","text":"<p>The CLI can be run as is, just by passing a <code>source</code> vector data. You can also use options to customize the output STAC item:</p> <ul> <li> <p>datetime (-d, --datetime)</p> <p>By design, all STAC items must have a datetime in their properties. By default the CLI will set the time to the actual UTC Time. The CLI will accept any format supported by <code>dateparser</code>.</p> <p>You can also define <code>start_datetime</code> and <code>end_datetime</code> by using <code>--datetime {start}/{end}</code> notation.</p> </li> <li> <p>extension (-e, --extension)</p> <p>STAC Item can have extensions which indicates that the item has additional properties (e.g proj information). This option can be set multiple times.</p> <p>You can pass the extension option multiple times: <code>-e extension1 -e extension2</code>.</p> </li> <li> <p>projection extension (--with-proj / --without-proj)</p> <p>By default the <code>projection</code> extension and properties will be added to the item.</p> <p>link: stac-extensions/projection</p> <pre><code>{\n    \"proj:epsg\": 3857,\n    \"proj:geometry\": {\"type\": \"Polygon\", \"coordinates\": [...]},\n    \"proj:bbox\": [...],\n    \"proj:shape\": [8192, 8192],\n    \"proj:transform\": [...],\n    \"datetime\": \"2021-03-19T02:27:33.266356Z\"\n}\n</code></pre> <p>You can pass <code>--without-proj</code> to disable it.</p> </li> <li> <p>collection (-c, --collection)</p> <p>Add a <code>collection</code> attribute to the item.</p> </li> <li> <p>collection link (--collection-url)</p> <p>When adding a collection to the Item, the specification state that a Link must also be set. By default the <code>href</code> will be set with the collection id. You can specify a custom URL using this option.</p> </li> <li> <p>properties (-p, --property)</p> <p>You can add multiple properties to the item using <code>-p {KEY}={VALUE}</code> notation. This option can be set multiple times.</p> </li> <li> <p>id (--id)</p> <p>STAC Item id to set. Default to the source basename.</p> </li> <li> <p>asset name (-n, --asset-name)</p> <p>Name to use in the assets section. Default to <code>asset</code>.</p> <pre><code>{\n    \"asset\": {\n        \"href\": \"my.geojson\"\n    }\n}\n</code></pre> </li> <li> <p>asset href (--asset-href)</p> <p>Overwrite the HREF in the <code>asset</code> object. Default to the source path.</p> </li> <li> <p>media type (--asset-mediatype)</p> <p>Set the asset <code>mediatype</code>.</p> <p>If set to <code>auto</code>, <code>fio-stac</code> will try to find the mediatype.</p> </li> <li> <p>geometry density (--densify-geom)</p> <p>When creating the GeoJSON geometry from the input dataset we usually take the <code>bounding box</code> of the data and construct a simple Polygon which then get reprojected to EPSG:4326. Sadly the world is neither flat and square, so doing a transformation using bounding box can lead to non-ideal result. To get better results and account for nonlinear transformation you can add <code>points</code> on each edge of the polygon using <code>--densify-geom</code> option.</p> </li> </ul>"},{"location":"intro/#example","title":"Example","text":"<pre><code>// fio stac zip+https://naciscdn.org/naturalearth/10m/cultural/ne_10m_roads_north_america.zip | jq\n{\n  \"type\": \"Feature\",\n  \"stac_version\": \"1.0.0\",\n  \"id\": \"ne_10m_roads_north_america\",\n  \"properties\": {\n    \"proj:epsg\": 4326,\n    \"proj:geometry\": {\n      \"type\": \"Polygon\",\n      \"coordinates\": [\n        [\n          [\n            -176.7640084731439,\n            14.590750676565\n          ],\n          [\n            -52.64725244187383,\n            14.590750676565\n          ],\n          [\n            -52.64725244187383,\n            70.2966838677457\n          ],\n          [\n            -176.7640084731439,\n            70.2966838677457\n          ],\n          [\n            -176.7640084731439,\n            14.590750676565\n          ]\n        ]\n      ]\n    },\n    \"proj:bbox\": [\n      -176.7640084731439,\n      14.590750676565,\n      -52.64725244187383,\n      70.2966838677457\n    ],\n    \"proj:projjson\": {\n      \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n      \"type\": \"GeographicCRS\",\n      \"name\": \"WGS 84\",\n      \"datum\": {\n        \"type\": \"GeodeticReferenceFrame\",\n        \"name\": \"World Geodetic System 1984\",\n        \"ellipsoid\": {\n          \"name\": \"WGS 84\",\n          \"semi_major_axis\": 6378137,\n          \"inverse_flattening\": 298.257223563\n        }\n      },\n      \"coordinate_system\": {\n        \"subtype\": \"ellipsoidal\",\n        \"axis\": [\n          {\n            \"name\": \"Geodetic latitude\",\n            \"abbreviation\": \"Lat\",\n            \"direction\": \"north\",\n            \"unit\": \"degree\"\n          },\n          {\n            \"name\": \"Geodetic longitude\",\n            \"abbreviation\": \"Lon\",\n            \"direction\": \"east\",\n            \"unit\": \"degree\"\n          }\n        ]\n      },\n      \"id\": {\n        \"authority\": \"EPSG\",\n        \"code\": 4326\n      }\n    },\n    \"proj:wkt2\": \"GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AXIS[\\\"Latitude\\\",NORTH],AXIS[\\\"Longitude\\\",EAST],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]]\",\n    \"vector:layers\": {\n      \"ne_10m_roads_north_america\": {\n        \"properties\": {\n          \"prefix\": \"str:5\",\n          \"number\": \"str:5\",\n          \"class\": \"str:10\",\n          \"type\": \"str:12\",\n          \"divided\": \"str:10\",\n          \"country\": \"str:25\",\n          \"state\": \"str:25\",\n          \"note\": \"str:100\",\n          \"scalerank\": \"int:4\",\n          \"uident\": \"int:9\",\n          \"length\": \"float:13.11\",\n          \"rank\": \"int:4\",\n          \"continent\": \"str:50\"\n        },\n        \"geometry\": \"LineString\"\n      }\n    },\n    \"datetime\": \"2023-12-11T15:21:15.054810Z\"\n  },\n  \"geometry\": {\n    \"coordinates\": [\n      [\n        [\n          -176.7640084731439,\n          14.590750676565\n        ],\n        [\n          -52.64725244187383,\n          14.590750676565\n        ],\n        [\n          -52.64725244187383,\n          70.2966838677457\n        ],\n        [\n          -176.7640084731439,\n          70.2966838677457\n        ],\n        [\n          -176.7640084731439,\n          14.590750676565\n        ]\n      ]\n    ],\n    \"type\": \"Polygon\"\n  },\n  \"links\": [],\n  \"assets\": {\n    \"ne_10m_roads_north_america\": {\n      \"href\": \"zip+https://naciscdn.org/naturalearth/10m/cultural/ne_10m_roads_north_america.zip\",\n      \"roles\": []\n    }\n  },\n  \"bbox\": [\n    -176.7640084731439,\n    14.590750676565,\n    -52.64725244187383,\n    70.2966838677457\n  ],\n  \"stac_extensions\": [\n    \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\"\n  ]\n}\n</code></pre> <pre><code>// fio stac zip+https://naciscdn.org/naturalearth/10m/cultural/ne_10m_roads_north_america.zip \\\n//   -d 2020-04-22 \\\n//   --without-proj \\\n//   -c myprivatecollection \\\n//   -p comments:name=myfile \\\n//   --id roads \\\n//   -n america \\\n//   --asset-href zip+https://naciscdn.org/naturalearth/10m/cultural/ne_10m_roads_north_america.zip | jq\n{\n  \"type\": \"Feature\",\n  \"stac_version\": \"1.0.0\",\n  \"id\": \"roads\",\n  \"properties\": {\n    \"comments:name\": \"myfile\",\n    \"vector:layers\": {\n      \"ne_10m_roads_north_america\": {\n        \"properties\": {\n          \"prefix\": \"str:5\",\n          \"number\": \"str:5\",\n          \"class\": \"str:10\",\n          \"type\": \"str:12\",\n          \"divided\": \"str:10\",\n          \"country\": \"str:25\",\n          \"state\": \"str:25\",\n          \"note\": \"str:100\",\n          \"scalerank\": \"int:4\",\n          \"uident\": \"int:9\",\n          \"length\": \"float:13.11\",\n          \"rank\": \"int:4\",\n          \"continent\": \"str:50\"\n        },\n        \"geometry\": \"LineString\"\n      }\n    },\n    \"datetime\": \"2020-04-22T00:00:00Z\"\n  },\n  \"geometry\": {\n    \"coordinates\": [\n      [\n        [\n          -176.7640084731439,\n          14.590750676565\n        ],\n        [\n          -52.64725244187383,\n          14.590750676565\n        ],\n        [\n          -52.64725244187383,\n          70.2966838677457\n        ],\n        [\n          -176.7640084731439,\n          70.2966838677457\n        ],\n        [\n          -176.7640084731439,\n          14.590750676565\n        ]\n      ]\n    ],\n    \"type\": \"Polygon\"\n  },\n  \"links\": [\n    {\n      \"rel\": \"collection\",\n      \"href\": \"myprivatecollection\",\n      \"type\": \"application/json\"\n    }\n  ],\n  \"assets\": {\n    \"america\": {\n      \"href\": \"zip+https://naciscdn.org/naturalearth/10m/cultural/ne_10m_roads_north_america.zip\",\n      \"roles\": []\n    }\n  },\n  \"bbox\": [\n    -176.7640084731439,\n    14.590750676565,\n    -52.64725244187383,\n    70.2966838677457\n  ],\n  \"stac_extensions\": [],\n  \"collection\": \"myprivatecollection\"\n}\n</code></pre>"},{"location":"intro/#api","title":"API","text":"<p>see: api</p>"},{"location":"release-notes/","title":"Release Notes","text":""},{"location":"release-notes/#010","title":"0.1.0","text":"<p>Initial release.</p> <ul> <li>Design API</li> <li>add CLI</li> <li>add tests</li> <li>write docs</li> </ul>"},{"location":"api/fio_stac/stac/","title":"Module fio_stac.stac","text":"<p>Create STAC Item from a vector dataset.</p>"},{"location":"api/fio_stac/stac/#variables","title":"Variables","text":"<pre><code>EPSG_4326\n</code></pre> <pre><code>PROJECTION_EXT_VERSION\n</code></pre> <pre><code>rioxarray\n</code></pre>"},{"location":"api/fio_stac/stac/#functions","title":"Functions","text":""},{"location":"api/fio_stac/stac/#bbox_to_geom","title":"bbox_to_geom","text":"<pre><code>def bbox_to_geom(\n    bbox: Tuple[float, float, float, float]\n) -&gt; Dict\n</code></pre> <p>Return a geojson geometry from a bbox.</p>"},{"location":"api/fio_stac/stac/#create_stac_item","title":"create_stac_item","text":"<pre><code>def create_stac_item(\n    source: str,\n    input_datetime: Union[datetime.datetime, NoneType] = None,\n    extensions: Union[List[str], NoneType] = None,\n    collection: Union[str, NoneType] = None,\n    collection_url: Union[str, NoneType] = None,\n    properties: Union[Dict, NoneType] = None,\n    id: Union[str, NoneType] = None,\n    assets: Union[Dict[str, pystac.asset.Asset], NoneType] = None,\n    asset_name: Union[str, NoneType] = None,\n    asset_roles: Union[List[str], NoneType] = None,\n    asset_media_type: Union[str, pystac.media_type.MediaType, NoneType] = 'auto',\n    asset_href: Union[str, NoneType] = None,\n    with_proj: bool = False,\n    geom_densify_pts: int = 0,\n    geom_precision: int = -1\n) -&gt; pystac.item.Item\n</code></pre> <p>Create a Stac Item.</p> <p>Parameters:</p> Name Type Description Default source str input path. None input_datetime datetime.datetime datetime associated with the item. None extensions list of str input list of extensions to use in the item. None collection str name of collection the item belongs to. None collection_url str Link to the STAC Collection. None properties dict additional properties to add in the item. None id str id to assign to the item (default to the source basename). None assets dict Assets to set in the item. If set we won't create one from the source. None asset_name str asset name in the Assets object. None asset_roles list of str list of str list of asset's roles. asset_media_type str or pystac.MediaType asset's media type. None asset_href str asset's URI (default to input path). None with_proj bool Add the <code>projection</code> extension and properties (default to False). None geom_densify_pts int Number of points to add to each edge to account for nonlinear edges transformation (Note: GDAL uses 21). None geom_precision int If &gt;= 0, geometry coordinates will be rounded to this number of decimal. None <p>Returns:</p> Type Description pystac.Item valid STAC Item."},{"location":"api/fio_stac/stac/#get_dataset_geom","title":"get_dataset_geom","text":"<pre><code>def get_dataset_geom(\n    src_dst: fiona.collection.Collection,\n    densify_pts: int = 0,\n    precision: int = -1\n) -&gt; Dict\n</code></pre> <p>Get Raster Footprint.</p>"},{"location":"api/fio_stac/stac/#get_media_type","title":"get_media_type","text":"<pre><code>def get_media_type(\n    src_dst: fiona.collection.Collection\n) -&gt; Union[str, NoneType]\n</code></pre> <p>Find MediaType for a vector dataset.</p>"},{"location":"api/fio_stac/stac/#get_projection_info","title":"get_projection_info","text":"<pre><code>def get_projection_info(\n    src_dst: fiona.collection.Collection\n) -&gt; Dict\n</code></pre> <p>Get projection metadata.</p> <p>The STAC projection extension allows for three different ways to describe the coordinate reference system associated with a raster : - EPSG code - WKT2 - PROJJSON</p> <p>All are optional, and they can be provided altogether as well. Therefore, as long as one can be obtained from the data, we add it to the returned dictionary.</p> <p>see: stac-extensions/projection</p>"},{"location":"examples/Multi_assets_item/","title":"Multi assets item","text":"<p>The Goal of this notebook is to show how to use the rio-stac API to create a STAC Item from multiple assets.</p> In\u00a0[2]: Copied! <pre>import datetime\n\nimport pystac\nfrom pystac.utils import str_to_datetime\n\nimport rasterio\n\n# Import extension version\nfrom rio_stac.stac import PROJECTION_EXT_VERSION, RASTER_EXT_VERSION, EO_EXT_VERSION\n\n# Import rio_stac methods\nfrom rio_stac.stac import (\n    get_dataset_geom,\n    get_projection_info,\n    get_raster_info,\n    get_eobands_info,\n    bbox_to_geom,\n)\n</pre> import datetime  import pystac from pystac.utils import str_to_datetime  import rasterio  # Import extension version from rio_stac.stac import PROJECTION_EXT_VERSION, RASTER_EXT_VERSION, EO_EXT_VERSION  # Import rio_stac methods from rio_stac.stac import (     get_dataset_geom,     get_projection_info,     get_raster_info,     get_eobands_info,     bbox_to_geom, ) In\u00a0[3]: Copied! <pre>assets = [\n    {\"name\": \"B01\", \"path\": \"./data/B01.tif\", \"href\": None, \"role\": None},\n    {\"name\": \"B02\", \"path\": \"./data/B02.tif\", \"href\": None, \"role\": None},\n    {\"name\": \"B03\", \"path\": \"./data/B03.tif\", \"href\": None, \"role\": None},\n    {\"name\": \"B04\", \"path\": \"./data/B04.tif\", \"href\": None, \"role\": None},\n    {\"name\": \"B05\", \"path\": \"./data/B05.tif\", \"href\": None, \"role\": None},\n]\n\nmedia_type = pystac.MediaType.COG  # we could also use rio_stac.stac.get_media_type\n\n# additional properties to add in the item\nproperties = {}\n\n# datetime associated with the item\ninput_datetime = None\n\n# STAC Item Id\nid = \"my_stac_item\"\n\n# name of collection the item belongs to\ncollection = None\ncollection_url = None\n\nextensions =[\n    f\"https://stac-extensions.github.io/projection/{PROJECTION_EXT_VERSION}/schema.json\",\n    f\"https://stac-extensions.github.io/raster/{RASTER_EXT_VERSION}/schema.json\",\n    f\"https://stac-extensions.github.io/eo/{EO_EXT_VERSION}/schema.json\",\n]\n</pre> assets = [     {\"name\": \"B01\", \"path\": \"./data/B01.tif\", \"href\": None, \"role\": None},     {\"name\": \"B02\", \"path\": \"./data/B02.tif\", \"href\": None, \"role\": None},     {\"name\": \"B03\", \"path\": \"./data/B03.tif\", \"href\": None, \"role\": None},     {\"name\": \"B04\", \"path\": \"./data/B04.tif\", \"href\": None, \"role\": None},     {\"name\": \"B05\", \"path\": \"./data/B05.tif\", \"href\": None, \"role\": None}, ]  media_type = pystac.MediaType.COG  # we could also use rio_stac.stac.get_media_type  # additional properties to add in the item properties = {}  # datetime associated with the item input_datetime = None  # STAC Item Id id = \"my_stac_item\"  # name of collection the item belongs to collection = None collection_url = None  extensions =[     f\"https://stac-extensions.github.io/projection/{PROJECTION_EXT_VERSION}/schema.json\",     f\"https://stac-extensions.github.io/raster/{RASTER_EXT_VERSION}/schema.json\",     f\"https://stac-extensions.github.io/eo/{EO_EXT_VERSION}/schema.json\", ] In\u00a0[4]: Copied! <pre>bboxes = []\n\npystac_assets = []\n\nimg_datetimes = []\n\nfor asset in assets:\n\n    with rasterio.open(asset[\"path\"]) as src_dst:\n\n        # Get BBOX and Footprint\n        dataset_geom = get_dataset_geom(src_dst, densify_pts=0, precision=-1)\n        bboxes.append(dataset_geom[\"bbox\"])\n\n        if \"start_datetime\" not in properties and \"end_datetime\" not in properties:\n            # Try to get datetime from https://gdal.org/user/raster_data_model.html#imagery-domain-remote-sensing\n            dst_date = src_dst.get_tag_item(\"ACQUISITIONDATETIME\", \"IMAGERY\")\n            dst_datetime = str_to_datetime(dst_date) if dst_date else None\n            if dst_datetime:\n                img_datetimes.append(dst_datetime)\n\n        proj_info = {\n            f\"proj:{name}\": value\n            for name, value in get_projection_info(src_dst).items()\n        }\n\n        raster_info = {\n            \"raster:bands\": get_raster_info(src_dst, max_size=1024)\n        }\n\n        eo_info = {}\n        eo_info = {\"eo:bands\": get_eobands_info(src_dst)}\n        cloudcover = src_dst.get_tag_item(\"CLOUDCOVER\", \"IMAGERY\")\n        if cloudcover is not None:\n            properties.update({\"eo:cloud_cover\": int(cloudcover)})\n\n        pystac_assets.append(\n            (\n                asset[\"name\"],\n                pystac.Asset(\n                    href=asset[\"href\"] or src_dst.name,\n                    media_type=media_type,\n                    extra_fields={\n                        **proj_info,\n                        **raster_info,\n                        **eo_info\n                    },\n                    roles=asset[\"role\"],\n                ),\n            )\n        )\n\nif img_datetimes and not input_datetime:\n    input_datetime = img_datetimes[0]\n\ninput_datetime = input_datetime or datetime.datetime.utcnow()\n\nminx, miny, maxx, maxy = zip(*bboxes)\nbbox = [min(minx), min(miny), max(maxx), max(maxy)]\n\n# item\nitem = pystac.Item(\n    id=id,\n    geometry=bbox_to_geom(bbox),\n    bbox=bbox,\n    collection=collection,\n    stac_extensions=extensions,\n    datetime=input_datetime,\n    properties=properties,\n)\n\n# if we add a collection we MUST add a link\nif collection:\n    item.add_link(\n        pystac.Link(\n            pystac.RelType.COLLECTION,\n            collection_url or collection,\n            media_type=pystac.MediaType.JSON,\n        )\n    )\n\nfor key, asset in pystac_assets:\n    item.add_asset(key=key, asset=asset)\n\nitem.validate()\n</pre>  bboxes = []  pystac_assets = []  img_datetimes = []  for asset in assets:      with rasterio.open(asset[\"path\"]) as src_dst:          # Get BBOX and Footprint         dataset_geom = get_dataset_geom(src_dst, densify_pts=0, precision=-1)         bboxes.append(dataset_geom[\"bbox\"])          if \"start_datetime\" not in properties and \"end_datetime\" not in properties:             # Try to get datetime from https://gdal.org/user/raster_data_model.html#imagery-domain-remote-sensing             dst_date = src_dst.get_tag_item(\"ACQUISITIONDATETIME\", \"IMAGERY\")             dst_datetime = str_to_datetime(dst_date) if dst_date else None             if dst_datetime:                 img_datetimes.append(dst_datetime)          proj_info = {             f\"proj:{name}\": value             for name, value in get_projection_info(src_dst).items()         }          raster_info = {             \"raster:bands\": get_raster_info(src_dst, max_size=1024)         }          eo_info = {}         eo_info = {\"eo:bands\": get_eobands_info(src_dst)}         cloudcover = src_dst.get_tag_item(\"CLOUDCOVER\", \"IMAGERY\")         if cloudcover is not None:             properties.update({\"eo:cloud_cover\": int(cloudcover)})          pystac_assets.append(             (                 asset[\"name\"],                 pystac.Asset(                     href=asset[\"href\"] or src_dst.name,                     media_type=media_type,                     extra_fields={                         **proj_info,                         **raster_info,                         **eo_info                     },                     roles=asset[\"role\"],                 ),             )         )  if img_datetimes and not input_datetime:     input_datetime = img_datetimes[0]  input_datetime = input_datetime or datetime.datetime.utcnow()  minx, miny, maxx, maxy = zip(*bboxes) bbox = [min(minx), min(miny), max(maxx), max(maxy)]  # item item = pystac.Item(     id=id,     geometry=bbox_to_geom(bbox),     bbox=bbox,     collection=collection,     stac_extensions=extensions,     datetime=input_datetime,     properties=properties, )  # if we add a collection we MUST add a link if collection:     item.add_link(         pystac.Link(             pystac.RelType.COLLECTION,             collection_url or collection,             media_type=pystac.MediaType.JSON,         )     )  for key, asset in pystac_assets:     item.add_asset(key=key, asset=asset)  item.validate() Out[4]: <pre>['https://schemas.stacspec.org/v1.0.0/item-spec/json-schema/item.json',\n 'https://stac-extensions.github.io/projection/v1.1.0/schema.json',\n 'https://stac-extensions.github.io/raster/v1.1.0/schema.json',\n 'https://stac-extensions.github.io/eo/v1.1.0/schema.json']</pre> In\u00a0[5]: Copied! <pre>import json\n\nprint(json.dumps(item.to_dict(), indent=4))\n</pre> import json  print(json.dumps(item.to_dict(), indent=4)) <pre>{\n    \"type\": \"Feature\",\n    \"stac_version\": \"1.0.0\",\n    \"id\": \"my_stac_item\",\n    \"properties\": {\n        \"datetime\": \"2023-12-08T09:55:37.520499Z\"\n    },\n    \"geometry\": {\n        \"type\": \"Polygon\",\n        \"coordinates\": [\n            [\n                [\n                    -11.979244865430262,\n                    24.296321392464336\n                ],\n                [\n                    -10.874546803397616,\n                    24.296321392464336\n                ],\n                [\n                    -10.874546803397616,\n                    25.304623891542274\n                ],\n                [\n                    -11.979244865430262,\n                    25.304623891542274\n                ],\n                [\n                    -11.979244865430262,\n                    24.296321392464336\n                ]\n            ]\n        ]\n    },\n    \"links\": [],\n    \"assets\": {\n        \"B01\": {\n            \"href\": \"./data/B01.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 4774.295702403111,\n                        \"minimum\": 1342,\n                        \"maximum\": 7725,\n                        \"stddev\": 509.38944965166854,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1342.0,\n                        \"max\": 7725.0,\n                        \"buckets\": [\n                            366,\n                            1478,\n                            2385,\n                            9548,\n                            57747,\n                            182460,\n                            41982,\n                            4332,\n                            1010,\n                            93\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        },\n        \"B02\": {\n            \"href\": \"./data/B02.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 3704.1896078646055,\n                        \"minimum\": 1149,\n                        \"maximum\": 8069,\n                        \"stddev\": 425.3794265417571,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1149.0,\n                        \"max\": 8069.0,\n                        \"buckets\": [\n                            1193,\n                            2792,\n                            21120,\n                            196053,\n                            75547,\n                            3758,\n                            519,\n                            212,\n                            151,\n                            56\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        },\n        \"B03\": {\n            \"href\": \"./data/B03.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 3756.1745382397535,\n                        \"minimum\": 1151,\n                        \"maximum\": 7859,\n                        \"stddev\": 422.8205914467619,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1151.0,\n                        \"max\": 7859.0,\n                        \"buckets\": [\n                            1033,\n                            2515,\n                            13318,\n                            159276,\n                            117130,\n                            6978,\n                            687,\n                            244,\n                            159,\n                            61\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        },\n        \"B04\": {\n            \"href\": \"./data/B04.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 3815.5430970700163,\n                        \"minimum\": 1164,\n                        \"maximum\": 7793,\n                        \"stddev\": 425.60416042616544,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1164.0,\n                        \"max\": 7793.0,\n                        \"buckets\": [\n                            915,\n                            2315,\n                            10676,\n                            132912,\n                            142978,\n                            10115,\n                            997,\n                            266,\n                            165,\n                            62\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        },\n        \"B05\": {\n            \"href\": \"./data/B05.tif\",\n            \"type\": \"image/tiff; application=geotiff; profile=cloud-optimized\",\n            \"proj:epsg\": 32629,\n            \"proj:geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                    [\n                        [\n                            199980.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2690220.0\n                        ],\n                        [\n                            309780.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2800020.0\n                        ],\n                        [\n                            199980.0,\n                            2690220.0\n                        ]\n                    ]\n                ]\n            },\n            \"proj:bbox\": [\n                199980.0,\n                2690220.0,\n                309780.0,\n                2800020.0\n            ],\n            \"proj:shape\": [\n                549,\n                549\n            ],\n            \"proj:transform\": [\n                200.0,\n                0.0,\n                199980.0,\n                0.0,\n                -200.0,\n                2800020.0,\n                0.0,\n                0.0,\n                1.0\n            ],\n            \"proj:projjson\": {\n                \"$schema\": \"https://proj.org/schemas/v0.4/projjson.schema.json\",\n                \"type\": \"ProjectedCRS\",\n                \"name\": \"WGS 84 / UTM zone 29N\",\n                \"base_crs\": {\n                    \"name\": \"WGS 84\",\n                    \"datum\": {\n                        \"type\": \"GeodeticReferenceFrame\",\n                        \"name\": \"World Geodetic System 1984\",\n                        \"ellipsoid\": {\n                            \"name\": \"WGS 84\",\n                            \"semi_major_axis\": 6378137,\n                            \"inverse_flattening\": 298.257223563\n                        }\n                    },\n                    \"coordinate_system\": {\n                        \"subtype\": \"ellipsoidal\",\n                        \"axis\": [\n                            {\n                                \"name\": \"Geodetic latitude\",\n                                \"abbreviation\": \"Lat\",\n                                \"direction\": \"north\",\n                                \"unit\": \"degree\"\n                            },\n                            {\n                                \"name\": \"Geodetic longitude\",\n                                \"abbreviation\": \"Lon\",\n                                \"direction\": \"east\",\n                                \"unit\": \"degree\"\n                            }\n                        ]\n                    },\n                    \"id\": {\n                        \"authority\": \"EPSG\",\n                        \"code\": 4326\n                    }\n                },\n                \"conversion\": {\n                    \"name\": \"UTM zone 29N\",\n                    \"method\": {\n                        \"name\": \"Transverse Mercator\",\n                        \"id\": {\n                            \"authority\": \"EPSG\",\n                            \"code\": 9807\n                        }\n                    },\n                    \"parameters\": [\n                        {\n                            \"name\": \"Latitude of natural origin\",\n                            \"value\": 0,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8801\n                            }\n                        },\n                        {\n                            \"name\": \"Longitude of natural origin\",\n                            \"value\": -9,\n                            \"unit\": \"degree\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8802\n                            }\n                        },\n                        {\n                            \"name\": \"Scale factor at natural origin\",\n                            \"value\": 0.9996,\n                            \"unit\": \"unity\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8805\n                            }\n                        },\n                        {\n                            \"name\": \"False easting\",\n                            \"value\": 500000,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8806\n                            }\n                        },\n                        {\n                            \"name\": \"False northing\",\n                            \"value\": 0,\n                            \"unit\": \"metre\",\n                            \"id\": {\n                                \"authority\": \"EPSG\",\n                                \"code\": 8807\n                            }\n                        }\n                    ]\n                },\n                \"coordinate_system\": {\n                    \"subtype\": \"Cartesian\",\n                    \"axis\": [\n                        {\n                            \"name\": \"Easting\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"east\",\n                            \"unit\": \"metre\"\n                        },\n                        {\n                            \"name\": \"Northing\",\n                            \"abbreviation\": \"\",\n                            \"direction\": \"north\",\n                            \"unit\": \"metre\"\n                        }\n                    ]\n                },\n                \"id\": {\n                    \"authority\": \"EPSG\",\n                    \"code\": 32629\n                }\n            },\n            \"proj:wkt2\": \"PROJCS[\\\"WGS 84 / UTM zone 29N\\\",GEOGCS[\\\"WGS 84\\\",DATUM[\\\"WGS_1984\\\",SPHEROID[\\\"WGS 84\\\",6378137,298.257223563,AUTHORITY[\\\"EPSG\\\",\\\"7030\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"6326\\\"]],PRIMEM[\\\"Greenwich\\\",0,AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],UNIT[\\\"degree\\\",0.0174532925199433,AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],AUTHORITY[\\\"EPSG\\\",\\\"4326\\\"]],PROJECTION[\\\"Transverse_Mercator\\\"],PARAMETER[\\\"latitude_of_origin\\\",0],PARAMETER[\\\"central_meridian\\\",-9],PARAMETER[\\\"scale_factor\\\",0.9996],PARAMETER[\\\"false_easting\\\",500000],PARAMETER[\\\"false_northing\\\",0],UNIT[\\\"metre\\\",1,AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],AXIS[\\\"Easting\\\",EAST],AXIS[\\\"Northing\\\",NORTH],AUTHORITY[\\\"EPSG\\\",\\\"32629\\\"]]\",\n            \"raster:bands\": [\n                {\n                    \"data_type\": \"uint16\",\n                    \"scale\": 1.0,\n                    \"offset\": 0.0,\n                    \"sampling\": \"area\",\n                    \"nodata\": 0.0,\n                    \"statistics\": {\n                        \"mean\": 3825.699888188825,\n                        \"minimum\": 1140,\n                        \"maximum\": 7808,\n                        \"stddev\": 431.14276343286804,\n                        \"valid_percent\": 100.0\n                    },\n                    \"histogram\": {\n                        \"count\": 11,\n                        \"min\": 1140.0,\n                        \"max\": 7808.0,\n                        \"buckets\": [\n                            819,\n                            2294,\n                            10344,\n                            127145,\n                            147857,\n                            11167,\n                            1259,\n                            287,\n                            169,\n                            60\n                        ]\n                    }\n                }\n            ],\n            \"eo:bands\": [\n                {\n                    \"name\": \"b1\",\n                    \"description\": \"gray\"\n                }\n            ]\n        }\n    },\n    \"bbox\": [\n        -11.979244865430262,\n        24.296321392464336,\n        -10.874546803397616,\n        25.304623891542274\n    ],\n    \"stac_extensions\": [\n        \"https://stac-extensions.github.io/projection/v1.1.0/schema.json\",\n        \"https://stac-extensions.github.io/raster/v1.1.0/schema.json\",\n        \"https://stac-extensions.github.io/eo/v1.1.0/schema.json\"\n    ]\n}\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"}]}